(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{117:function(e,t,n){e.exports={error:"FormsControls_error__2SeOU",summaryError:"FormsControls_summaryError__1vHei",form:"FormsControls_form__1CYe2"}},148:function(e,t,n){e.exports=n(273)},153:function(e,t,n){},157:function(e,t,n){},273:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),s=n(58),o=n.n(s),c=(n(153),n(9)),u=n(20),i=n(8),l=(n(157),n(44)),p=n.n(l),m=function(e){return a.a.createElement("div",null,a.a.createElement(u.b,{to:"/create"},"Create New Person"),a.a.createElement(u.b,{to:"/persons"},"Show All Persons"))},f=n(15),d=n(16),b=n(18),h=n(17),E=n(113),v=n(114),N=n(122),O=n(117),U=n.n(O),j=function(e){var t=e.input,n=e.meta,r=(e.child,e.element,Object(N.a)(e,["input","meta","child","element"])),s=n.touched&&n.error;return a.a.createElement("div",{className:s?U.a.error:""},a.a.createElement("div",null,a.a.createElement("input",Object.assign({},t,r))),s&&a.a.createElement("span",null,n.error)||n.warning&&a.a.createElement("span",null,n.warning," "))},w=n(30),_=n.n(w),y=function(e){if(!e)return"Field is required"},g=Object(v.a)({form:"person"})((function(e){var t=e.handleSubmit,n=e.firstName,r=e.lastName;return a.a.createElement("form",{className:_.a.form,onSubmit:t},a.a.createElement(E.a,{placeholder:"Enter firstname",component:j,name:"newFirstName",validate:[y],value:n,type:"text"}),a.a.createElement(E.a,{placeholder:"Enter lastname",component:j,name:"newLastName",validate:[y],value:r,type:"text"}),a.a.createElement("div",null,a.a.createElement("button",null,"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435")))})),S=n(22),D=n.n(S),k=n(40),x=n(121),C=n(25),F=n(119).create({baseURL:"http://localhost:3000",credentials:"include"}),P=function(){return F.get("persons").then((function(e){return e.data}))},R=function(e){return F.get("persons/".concat(e)).then((function(e){if(200===e.status)return e.data}))},L=function(e){var t=e.id;return F.put("persons/".concat(t),e).then((function(e){return e.data}))},T=function(e){var t=e.newFirstName,n=e.newLastName;return F.post("persons",{firstName:t,lastName:n}).then((function(e){return e}))},A=function(e){return F.delete("persons/".concat(e)).then((function(e){return e}))},M={persons:[{id:1,firstName:"Dave",lastName:"h"},{id:2,firstName:"Dove",lastName:"h"}]},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-USER":var n={id:3,firstName:t.newFirstName,lastName:t.newLastName};return Object(C.a)(Object(C.a)({},e),{},{persons:[].concat(Object(x.a)(e.persons),[n])});case"UPDATE-USER":case"SET-USERS":case"SET-USER":return Object(C.a)(Object(C.a)({},e),{},{persons:t.persons});default:return e}},W=function(e){return{type:"SET-USER",persons:e}},z=function(){return function(){var e=Object(k.a)(D.a.mark((function e(t){var n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:n=e.sent,t({type:"SET-USERS",persons:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},J=function(e){return function(){var t=Object(k.a)(D.a.mark((function t(n){var r;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R(e);case 2:r=t.sent,n(W(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},B=function(e){return function(){var t=Object(k.a)(D.a.mark((function t(n){return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A(e);case 2:t.sent,n(z());case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},X=function(e){return function(){var t=Object(k.a)(D.a.mark((function t(n){var r;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.next=3,L(e);case 3:r=t.sent,n(W(r)),n(z());case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Y=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this;return a.a.createElement("div",null,a.a.createElement(g,{onSubmit:function(t){console.log(t),e.props.addNewUser(t)}}))}}]),n}(a.a.Component),q=Object(c.b)((function(e){return{firstName:e.persons.firstName,lastName:e.persons.lastName}}),{addNewUser:function(e){var t=e.newFirstName,n=e.newLastName;return function(){var e=Object(k.a)(D.a.mark((function e(r){var a;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T({newFirstName:t,newLastName:n});case 2:a=e.sent,console.log(a),r({type:"ADD-USER",persons:a.data}),r(z());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(Y),H=n(35),V=(Object(v.a)({form:"updatePerson"})((function(e){var t=e.handleSubmit,n=e.firstName,r=e.lastName;return a.a.createElement("form",{className:" ".concat(_.a.form," ").concat(_.a.update),handleSubmit:t},a.a.createElement(E.a,{component:j,name:"firstName",value:n,validate:[y],type:"text"}),a.a.createElement(E.a,{component:j,name:"lastName",value:r,validate:[y],type:"text"}),a.a.createElement("div",null,a.a.createElement("button",{type:"submit"},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435")))})),function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(e){var r;Object(f.a)(this,n),(r=t.call(this,e)).onSubmit=function(e){var t=window.location.href.split("/");console.log(e);var n={firstName:e.newFirstName,lastName:e.newLastName,id:t[t.length-1]};r.props.updateUser(n)};var a={firstName:r.props.firstName,lastName:r.props.lastName,id:r.props.id};return r.props.initializeData(a),r}return Object(d.a)(n,[{key:"render",value:function(){return a.a.createElement(g,{onSubmit:this.onSubmit,firstName:this.props.firstName,lastName:this.props.lastName})}}]),n}(a.a.Component)),$=Object(c.b)((function(e){return{firstName:e.persons.persons.firstName,lastName:e.persons.persons.lastName,id:e.persons.persons.id}}),(function(e){return{initializeData:function(t){e(Object(H.a)("person",t))},updateUser:function(t){console.log(t),e(X(t))},getUser:function(t){e(J(t))}}}))(V),G=n(7),K=function(e){var t=e.person,n=e.onDeleteUser;return a.a.createElement("div",null,a.a.createElement("button",{className:"".concat(p.a.btn," ").concat(p.a.delete),onClick:function(){n(t.id)}},"D"))},Q=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return a.a.createElement(u.b,{to:"/update/"+this.props.person.id},"Update")}}]),n}(a.a.Component),Z=Object(c.b)((function(e){return{newFirstName:e.persons.firstName}}),{getUser:J})(Q),ee=function(e){var t=e.person,n=e.onDeleteUser,r=e.onUpdateUser;return a.a.createElement(u.b,{to:"/person/"+t.id},a.a.createElement("div",{className:_.a.tbl},a.a.createElement("table",null,a.a.createElement("tr",null,a.a.createElement("td",{className:_.a.col},t.firstName),a.a.createElement("td",null,t.lastName),a.a.createElement("td",null,a.a.createElement(K,{onDeleteUser:n,person:t})),a.a.createElement("td",null,a.a.createElement(Z,{onUpdateUser:r,person:t}))))))},te=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsers()}},{key:"render",value:function(){var e=this;return a.a.createElement("div",null,this.props.users.persons.map((function(t){return a.a.createElement(ee,{person:t,onDeleteUser:e.props.deleteUser,onUpdateUser:e.props.updateUser})})))}}]),n}(a.a.Component),ne=Object(c.b)((function(e){return{id:e.persons.id}}),{getUsers:z,deleteUser:B,updateUser:X})(te),re=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement(ne,{users:this.props.users,deleteUser:this.props.deleteUser,updateUser:this.props.updateUser}))}}]),n}(a.a.Component),ae=Object(G.d)(Object(c.b)((function(e){return{users:e.persons}}),{getUsers:z,deleteUser:B,updateUser:X}))(re),se=n(120),oe=n(115),ce=Object(G.c)({persons:I,form:oe.a}),ue=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||G.d,ie=Object(G.e)(ce,ue(Object(G.a)(se.a))),le=function(e){return a.a.createElement("div",null,a.a.createElement(ee,{person:e}))},pe=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=window.location.href.split("/");this.props.getUser(e[e.length-1]),console.log(this.props)}},{key:"render",value:function(){return a.a.createElement(le,{firstName:this.props.firstName,lastName:this.props.lastName,id:this.props.id,onDeleteUser:this.props.deleteUser,onUpdateUser:this.props.updateUser})}}]),n}(a.a.Component),me=Object(c.b)((function(e){return{firstName:e.persons.persons.firstName,lastName:e.persons.persons.lastName,id:e.persons.persons.id}}),{getUser:J,deleteUser:B,updateUser:X})(pe);var fe=function(){return a.a.createElement(u.a,null,a.a.createElement(c.a,{store:ie},a.a.createElement("div",{className:"App"},a.a.createElement(i.a,{path:"",render:function(){return a.a.createElement(m,null)}}),a.a.createElement(i.a,{path:"/persons",render:function(){return a.a.createElement(ae,null)}}),a.a.createElement(i.a,{path:"/person/:userId",render:function(){return a.a.createElement(me,null)}}),a.a.createElement(i.a,{path:"/create",render:function(){return a.a.createElement(q,null)}}),a.a.createElement(i.a,{path:"/update/:userId",render:function(){return a.a.createElement($,null)}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(fe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},30:function(e,t,n){e.exports={tbl:"Person_tbl__3W8P4",btns:"Person_btns__25UWO",btn:"Person_btn__2cgnY",update:"Person_update__1_6--"}},44:function(e,t,n){e.exports={btn:"Common_btn__3Mzt3",update:"Common_update__3Rb_L",delete:"Common_delete__JUfDn"}}},[[148,1,2]]]);
//# sourceMappingURL=main.e529b7a6.chunk.js.map