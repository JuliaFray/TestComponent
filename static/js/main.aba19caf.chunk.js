(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{118:function(e,t,n){e.exports={error:"formsControls_error__BnoZj",summaryError:"formsControls_summaryError__2-GWB",form:"formsControls_form__2Gfyc"}},148:function(e,t,n){e.exports=n(273)},153:function(e,t,n){},157:function(e,t,n){},273:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),s=n(57),o=n.n(s),c=(n(153),n(10)),i=n(25),u=n(9),l=(n(157),n(34)),p=n.n(l),m=function(e){return a.a.createElement("div",{className:p.a.starts},a.a.createElement(i.b,{className:p.a.start,to:"/create"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0433\u043e \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430"),a.a.createElement(i.b,{className:p.a.start,to:"/persons"},"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435\u0445 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432"))},f=n(16),d=n(17),h=n(19),v=n(18),b=n(22),N=n.n(b),E=n(40),U=n(121),O=n(26),_=n(117).create({baseURL:"http://localhost:3000",credentials:"include"}),j=function(){return _.get("persons").then((function(e){if(200===e.status)return e.data}))},w=function(e){return _.get("persons/".concat(e)).then((function(e){if(200===e.status)return e.data}))},y=function(e){var t=e.id;return _.put("persons/".concat(t),e).then((function(e){return e.data}))},g=function(e){var t=e.newFirstName,n=e.newLastName;return _.post("persons",{firstName:t,lastName:n}).then((function(e){return e}))},k=function(e){return _.delete("persons/".concat(e)).then((function(e){return e}))},D={persons:[{id:1,firstName:"Dave",lastName:"h"},{id:2,firstName:"Dove",lastName:"h"}]},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-USER":var n={id:3,firstName:t.newFirstName,lastName:t.newLastName};return Object(O.a)(Object(O.a)({},e),{},{persons:[].concat(Object(U.a)(e.persons),[n])});case"UPDATE-USER":case"SET-USERS":case"SET-USER":return Object(O.a)(Object(O.a)({},e),{},{persons:t.persons});default:return e}},x=function(e){return{type:"ADD-USER",persons:e}},C=function(e){return{type:"SET-USERS",persons:e}},L=function(e){return{type:"SET-USER",persons:e}},R=function(){return function(){var e=Object(E.a)(N.a.mark((function e(t){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:n=e.sent,t(C(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},F=function(e){return function(){var t=Object(E.a)(N.a.mark((function t(n){var r;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w(e);case 2:r=t.sent,n(L(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},T=function(e){return function(){var t=Object(E.a)(N.a.mark((function t(n){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k(e);case 2:t.sent,n(R());case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},M=function(e){return function(){var t=Object(E.a)(N.a.mark((function t(n){var r;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y(e);case 2:r=t.sent,n(L(r)),n(R());case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},A=n(113),B=n(114),q=n(122),I=n(118),J=n.n(I),W=function(e){var t=e.input,n=e.meta,r=(e.child,e.element,Object(q.a)(e,["input","meta","child","element"])),s=n.touched&&n.error;return a.a.createElement("div",{className:s?J.a.error:""},a.a.createElement("div",null,a.a.createElement("input",Object.assign({},t,r))),s&&a.a.createElement("span",null,n.error)||n.warning&&a.a.createElement("span",null,n.warning," "))},z=function(e){if(!e)return"Field is required"},P=n(8),G=n.n(P),Q=Object(B.a)({form:"person"})((function(e){var t=e.handleSubmit,n=e.firstName,r=e.lastName;return a.a.createElement("form",{className:G.a.form,onSubmit:t},a.a.createElement(A.a,{placeholder:n||"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430",component:W,name:"newFirstName",validate:[z],type:"text"}),a.a.createElement(A.a,{placeholder:r||"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0444\u0430\u043c\u0438\u043b\u0438\u044e \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430",component:W,name:"newLastName",validate:[z],value:r,type:"text"}),a.a.createElement("div",null,a.a.createElement("button",null,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")))})),X=function(e){Object(h.a)(n,e);var t=Object(v.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this;return a.a.createElement("div",null,a.a.createElement(Q,{onSubmit:function(t){console.log(t),e.props.addNewUser(t)}}))}}]),n}(a.a.Component),Y=Object(c.b)((function(e){return{firstName:e.persons.firstName,lastName:e.persons.lastName}}),{addNewUser:function(e){var t=e.newFirstName,n=e.newLastName;return function(){var e=Object(E.a)(N.a.mark((function e(r){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g({newFirstName:t,newLastName:n});case 2:a=e.sent,r(x(a.data)),r(R());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(X),H=function(e){var t=e.person,n=e.onDeleteUser;return a.a.createElement("div",null,a.a.createElement("button",{className:"".concat(p.a.btn," ").concat(p.a.delete),onClick:function(){n(t.id)}},"D"))},V=function(e){Object(h.a)(n,e);var t=Object(v.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return a.a.createElement(i.b,{className:G.a.update,to:"/update/"+this.props.person.id},"U")}}]),n}(a.a.Component),Z=Object(c.b)((function(e){return{newFirstName:e.persons.firstName}}),{getUser:F})(V),$=function(e){var t=e.person,n=e.onDeleteUser,r=e.onUpdateUser;return a.a.createElement("div",{className:G.a.row},a.a.createElement("div",{className:G.a.col2},a.a.createElement(i.b,{className:G.a.link,to:"/person/"+t.id},a.a.createElement("div",{className:G.a.col},t.firstName),a.a.createElement("div",{className:G.a.col},t.lastName))),a.a.createElement("div",{className:"".concat(G.a.col," ").concat(G.a.col2)},a.a.createElement(H,{onDeleteUser:n,person:t})),a.a.createElement("div",{className:"".concat(G.a.col," ").concat(G.a.update," ").concat(G.a.col2)},a.a.createElement(Z,{onUpdateUser:r,person:t})))},K=function(e){return console.log(e),a.a.createElement("div",null,a.a.createElement($,{person:e,onDeleteUser:e.onDeleteUser,onUpdateUser:e.onUpdateUser}))},ee=function(e){Object(h.a)(n,e);var t=Object(v.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=window.location.href.split("/");this.props.getUser(e[e.length-1])}},{key:"render",value:function(){return a.a.createElement(K,{firstName:this.props.firstName,lastName:this.props.lastName,id:this.props.id,onDeleteUser:this.props.deleteUser,onUpdateUser:this.props.updateUser})}}]),n}(a.a.Component),te=Object(c.b)((function(e){return{firstName:e.persons.persons.firstName,lastName:e.persons.persons.lastName,id:e.persons.persons.id}}),{getUser:F,deleteUser:T,updateUser:M})(ee),ne=n(59),re=function(e){Object(h.a)(n,e);var t=Object(v.a)(n);function n(e){var r;Object(f.a)(this,n),(r=t.call(this,e)).onSubmit=function(e){var t=window.location.href.split("/"),n={firstName:e.newFirstName,lastName:e.newLastName,id:t[t.length-1]};r.props.updateUser(n)};var a={firstName:r.props.firstName,lastName:r.props.lastName,id:r.props.id};return r.props.initializeData(a),r}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=window.location.href.split("/");this.props.getUser(e[e.length-1])}},{key:"render",value:function(){return a.a.createElement(Q,{onSubmit:this.onSubmit,firstName:this.props.firstName,lastName:this.props.lastName})}}]),n}(r.Component),ae=Object(c.b)((function(e){return{firstName:e.persons.persons.firstName,lastName:e.persons.persons.lastName,id:e.persons.persons.id}}),(function(e){return{initializeData:function(t){e(Object(ne.a)("person",t))},updateUser:function(t){console.log(t),e(M(t))},getUser:function(t){e(F(t))}}}))(re),se=n(7),oe=function(e){Object(h.a)(n,e);var t=Object(v.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsers()}},{key:"render",value:function(){var e=this;return a.a.createElement("div",null,a.a.createElement("div",{className:"".concat(G.a.row," ").concat(G.a.th)},a.a.createElement("div",{className:G.a.col},"\u0418\u043c\u044f"),a.a.createElement("div",{className:G.a.col},"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"),a.a.createElement("div",{className:G.a.col},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430"),a.a.createElement("div",{className:G.a.col},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430")),this.props.users.persons.map((function(t){return a.a.createElement($,{person:t,onDeleteUser:e.props.deleteUser,onUpdateUser:e.props.updateUser})})))}}]),n}(a.a.Component),ce=Object(c.b)((function(e){return{id:e.persons.id}}),{getUsers:R,deleteUser:T,updateUser:M})(oe),ie=function(e){Object(h.a)(n,e);var t=Object(v.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsers()}},{key:"componentDidUpdate",value:function(e,t,n){e.users.persons.length!=this.props.users.persons.length&&this.props.getUsers()}},{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement(ce,{users:this.props.users,deleteUser:this.props.deleteUser,updateUser:this.props.updateUser}))}}]),n}(a.a.Component),ue=Object(se.d)(Object(c.b)((function(e){return{users:e.persons}}),{getUsers:R,deleteUser:T,updateUser:M}))(ie),le=n(120),pe=n(115),me=Object(se.c)({persons:S,form:pe.a}),fe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||se.d,de=Object(se.e)(me,fe(Object(se.a)(le.a)));var he=function(){return a.a.createElement(i.a,null,a.a.createElement(c.a,{store:de},a.a.createElement("div",{className:"App"},a.a.createElement(u.a,{path:"",render:function(){return a.a.createElement(m,null)}}),a.a.createElement(u.a,{path:"/persons",render:function(){return a.a.createElement(ue,null)}}),a.a.createElement(u.a,{path:"/person/:userId",render:function(){return a.a.createElement(te,null)}}),a.a.createElement(u.a,{path:"/create",render:function(){return a.a.createElement(Y,null)}}),a.a.createElement(u.a,{path:"/update/:userId",render:function(){return a.a.createElement(ae,null)}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(he,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},34:function(e,t,n){e.exports={btn:"common_btn__1z8gv",delete:"common_delete__3LCiJ",starts:"common_starts__2_lYY",start:"common_start__2nwJq"}},8:function(e,t,n){e.exports={row:"person_row__9bb46",th:"person_th__2a-lv",col:"person_col__3sqPT",col2:"person_col2__1qvHt",link:"person_link__ys39Q",btns:"person_btns__A1UQW",btn:"person_btn__2f376",update:"person_update__oi1Ba"}}},[[148,1,2]]]);
//# sourceMappingURL=main.aba19caf.chunk.js.map