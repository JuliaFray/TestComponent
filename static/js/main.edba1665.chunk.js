(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{11:function(e,t,n){e.exports={row:"Person_row__1VW0t",col:"Person_col__N4yN7",col2:"Person_col2__15ht5",link:"Person_link__yBcs6",btns:"Person_btns__25UWO",btn:"Person_btn__2cgnY",update:"Person_update__1_6--"}},117:function(e,t,n){e.exports={error:"FormsControls_error__2SeOU",summaryError:"FormsControls_summaryError__1vHei",form:"FormsControls_form__1CYe2"}},148:function(e,t,n){e.exports=n(273)},153:function(e,t,n){},157:function(e,t,n){},273:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),s=n(58),o=n.n(s),c=(n(153),n(9)),i=n(25),u=n(8),l=(n(157),n(34)),p=n.n(l),m=function(e){return a.a.createElement("div",{className:p.a.starts},a.a.createElement(i.b,{className:p.a.start,to:"/create"},"Create New Person"),a.a.createElement(i.b,{className:p.a.start,to:"/persons"},"Show All Persons"))},f=n(16),d=n(17),h=n(19),v=n(18),b=n(113),N=n(114),E=n(122),O=n(117),U=n.n(O),_=function(e){var t=e.input,n=e.meta,r=(e.child,e.element,Object(E.a)(e,["input","meta","child","element"])),s=n.touched&&n.error;return a.a.createElement("div",{className:s?U.a.error:""},a.a.createElement("div",null,a.a.createElement("input",Object.assign({},t,r))),s&&a.a.createElement("span",null,n.error)||n.warning&&a.a.createElement("span",null,n.warning," "))},j=n(11),w=n.n(j),y=function(e){if(!e)return"Field is required"},g=Object(N.a)({form:"person"})((function(e){var t=e.handleSubmit,n=e.firstName,r=e.lastName;return a.a.createElement("form",{className:w.a.form,onSubmit:t},a.a.createElement(b.a,{placeholder:"Enter firstname",component:_,name:"newFirstName",validate:[y],value:n,type:"text"}),a.a.createElement(b.a,{placeholder:"Enter lastname",component:_,name:"newLastName",validate:[y],value:r,type:"text"}),a.a.createElement("div",null,a.a.createElement("button",null,"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435")))})),S=n(22),k=n.n(S),D=n(41),x=n(121),C=n(26),P=n(119).create({baseURL:"http://localhost:3000",credentials:"include"}),F=function(){return P.get("persons").then((function(e){return e.data}))},R=function(e){return P.get("persons/".concat(e)).then((function(e){if(200===e.status)return e.data}))},L=function(e){var t=e.id;return P.put("persons/".concat(t),e).then((function(e){return e.data}))},T=function(e){var t=e.newFirstName,n=e.newLastName;return P.post("persons",{firstName:t,lastName:n}).then((function(e){return e}))},A=function(e){return P.delete("persons/".concat(e)).then((function(e){return e}))},M={persons:[{id:1,firstName:"Dave",lastName:"h"},{id:2,firstName:"Dove",lastName:"h"}]},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-USER":var n={id:3,firstName:t.newFirstName,lastName:t.newLastName};return Object(C.a)(Object(C.a)({},e),{},{persons:[].concat(Object(x.a)(e.persons),[n])});case"UPDATE-USER":case"SET-USERS":case"SET-USER":return Object(C.a)(Object(C.a)({},e),{},{persons:t.persons});default:return e}},J=function(e){return{type:"SET-USER",persons:e}},W=function(){return function(){var e=Object(D.a)(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F();case 2:n=e.sent,t({type:"SET-USERS",persons:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},z=function(e){return function(){var t=Object(D.a)(k.a.mark((function t(n){var r;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R(e);case 2:r=t.sent,n(J(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},B=function(e){return function(){var t=Object(D.a)(k.a.mark((function t(n){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A(e);case 2:t.sent,n(W());case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},V=function(e){return function(){var t=Object(D.a)(k.a.mark((function t(n){var r;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L(e);case 2:r=t.sent,n(J(r)),n(W());case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Y=function(e){Object(h.a)(n,e);var t=Object(v.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this;return a.a.createElement("div",null,a.a.createElement(g,{onSubmit:function(t){console.log(t),e.props.addNewUser(t)}}))}}]),n}(a.a.Component),X=Object(c.b)((function(e){return{firstName:e.persons.firstName,lastName:e.persons.lastName}}),{addNewUser:function(e){var t=e.newFirstName,n=e.newLastName;return function(){var e=Object(D.a)(k.a.mark((function e(r){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T({newFirstName:t,newLastName:n});case 2:a=e.sent,r({type:"ADD-USER",persons:a.data}),r(W());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(Y),q=n(36),H=(Object(N.a)({form:"updatePerson"})((function(e){var t=e.handleSubmit,n=e.firstName,r=e.lastName;return a.a.createElement("form",{className:" ".concat(w.a.form," ").concat(w.a.update),handleSubmit:t},a.a.createElement(b.a,{component:_,name:"firstName",value:n,validate:[y],type:"text"}),a.a.createElement(b.a,{component:_,name:"lastName",value:r,validate:[y],type:"text"}),a.a.createElement("div",null,a.a.createElement("button",{type:"submit"},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435")))})),function(e){Object(h.a)(n,e);var t=Object(v.a)(n);function n(e){var r;Object(f.a)(this,n),(r=t.call(this,e)).onSubmit=function(e){var t=window.location.href.split("/");console.log(e);var n={firstName:e.newFirstName,lastName:e.newLastName,id:t[t.length-1]};r.props.updateUser(n)};var a={firstName:r.props.firstName,lastName:r.props.lastName,id:r.props.id};return r.props.initializeData(a),r}return Object(d.a)(n,[{key:"render",value:function(){return a.a.createElement(g,{onSubmit:this.onSubmit,firstName:this.props.firstName,lastName:this.props.lastName})}}]),n}(a.a.Component)),$=Object(c.b)((function(e){return{firstName:e.persons.persons.firstName,lastName:e.persons.persons.lastName,id:e.persons.persons.id}}),(function(e){return{initializeData:function(t){e(Object(q.a)("person",t))},updateUser:function(t){console.log(t),e(V(t))},getUser:function(t){e(z(t))}}}))(H),G=n(7),K=function(e){var t=e.person,n=e.onDeleteUser;return a.a.createElement("div",null,a.a.createElement("button",{className:"".concat(p.a.btn," ").concat(p.a.delete),onClick:function(){n(t.id)}},"D"))},Q=function(e){Object(h.a)(n,e);var t=Object(v.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return a.a.createElement(i.b,{className:w.a.update,to:"/update/"+this.props.person.id},"U")}}]),n}(a.a.Component),Z=Object(c.b)((function(e){return{newFirstName:e.persons.firstName}}),{getUser:z})(Q),ee=function(e){var t=e.person,n=e.onDeleteUser,r=e.onUpdateUser;return a.a.createElement("div",{className:w.a.row},a.a.createElement("div",{className:w.a.col2},a.a.createElement(i.b,{className:w.a.link,to:"/person/"+t.id},a.a.createElement("div",{className:w.a.col},t.firstName),a.a.createElement("div",{className:w.a.col},t.lastName))),a.a.createElement("div",{className:w.a.col},a.a.createElement(K,{onDeleteUser:n,person:t})),a.a.createElement("div",{className:"".concat(w.a.col," ").concat(w.a.update)},a.a.createElement(Z,{onUpdateUser:r,person:t})))},te=function(e){Object(h.a)(n,e);var t=Object(v.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsers()}},{key:"render",value:function(){var e=this;return a.a.createElement("div",null,this.props.users.persons.map((function(t){return a.a.createElement(ee,{person:t,onDeleteUser:e.props.deleteUser,onUpdateUser:e.props.updateUser})})))}}]),n}(a.a.Component),ne=Object(c.b)((function(e){return{id:e.persons.id}}),{getUsers:W,deleteUser:B,updateUser:V})(te),re=function(e){Object(h.a)(n,e);var t=Object(v.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsers()}},{key:"componentDidUpdate",value:function(e,t,n){e.users.persons.length!=this.props.users.persons.length&&this.props.getUsers()}},{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement(ne,{users:this.props.users,deleteUser:this.props.deleteUser,updateUser:this.props.updateUser}))}}]),n}(a.a.Component),ae=Object(G.d)(Object(c.b)((function(e){return{users:e.persons}}),{getUsers:W,deleteUser:B,updateUser:V}))(re),se=n(120),oe=n(115),ce=Object(G.c)({persons:I,form:oe.a}),ie=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||G.d,ue=Object(G.e)(ce,ie(Object(G.a)(se.a))),le=function(e){return a.a.createElement("div",null,a.a.createElement(ee,{person:e}))},pe=function(e){Object(h.a)(n,e);var t=Object(v.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=window.location.href.split("/");this.props.getUser(e[e.length-1]),console.log(this.props)}},{key:"render",value:function(){return a.a.createElement(le,{firstName:this.props.firstName,lastName:this.props.lastName,id:this.props.id,onDeleteUser:this.props.deleteUser,onUpdateUser:this.props.updateUser})}}]),n}(a.a.Component),me=Object(c.b)((function(e){return{firstName:e.persons.persons.firstName,lastName:e.persons.persons.lastName,id:e.persons.persons.id}}),{getUser:z,deleteUser:B,updateUser:V})(pe);var fe=function(){return a.a.createElement(i.a,null,a.a.createElement(c.a,{store:ue},a.a.createElement("div",{className:"App"},a.a.createElement(u.a,{path:"",render:function(){return a.a.createElement(m,null)}}),a.a.createElement(u.a,{path:"/persons",render:function(){return a.a.createElement(ae,null)}}),a.a.createElement(u.a,{path:"/person/:userId",render:function(){return a.a.createElement(me,null)}}),a.a.createElement(u.a,{path:"/create",render:function(){return a.a.createElement(X,null)}}),a.a.createElement(u.a,{path:"/update/:userId",render:function(){return a.a.createElement($,null)}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(fe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},34:function(e,t,n){e.exports={btn:"Common_btn__3Mzt3",delete:"Common_delete__JUfDn",starts:"Common_starts__4VA34",start:"Common_start__urYlJ"}}},[[148,1,2]]]);
//# sourceMappingURL=main.edba1665.chunk.js.map