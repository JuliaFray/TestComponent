(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{117:function(e,t,n){e.exports={error:"FormsControls_error__2SeOU",summaryError:"FormsControls_summaryError__1vHei",form:"FormsControls_form__1CYe2"}},148:function(e,t,n){e.exports=n(273)},153:function(e,t,n){},157:function(e,t,n){},273:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(58),o=n.n(s),c=(n(153),n(10)),i=n(25),u=n(9),l=(n(157),n(34)),p=n.n(l),m=function(e){return r.a.createElement("div",{className:p.a.starts},r.a.createElement(i.b,{className:p.a.start,to:"/create"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0433\u043e \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430"),r.a.createElement(i.b,{className:p.a.start,to:"/persons"},"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435\u0445 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432"))},f=n(16),d=n(17),h=n(19),v=n(18),N=n(113),b=n(114),E=n(122),O=n(117),U=n.n(O),_=function(e){var t=e.input,n=e.meta,a=(e.child,e.element,Object(E.a)(e,["input","meta","child","element"])),s=n.touched&&n.error;return r.a.createElement("div",{className:s?U.a.error:""},r.a.createElement("div",null,r.a.createElement("input",Object.assign({},t,a))),s&&r.a.createElement("span",null,n.error)||n.warning&&r.a.createElement("span",null,n.warning," "))},j=function(e){if(!e)return"Field is required"},w=n(7),y=n.n(w),g=Object(b.a)({form:"person"})((function(e){var t=e.handleSubmit,n=e.firstName,a=e.lastName;return r.a.createElement("form",{className:y.a.form,onSubmit:t},r.a.createElement(N.a,{placeholder:n||"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430",component:_,name:"newFirstName",validate:[j],type:"text"}),r.a.createElement(N.a,{placeholder:a||"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0444\u0430\u043c\u0438\u043b\u0438\u044e \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430",component:_,name:"newLastName",validate:[j],value:a,type:"text"}),r.a.createElement("div",null,r.a.createElement("button",null,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")))})),S=n(22),k=n.n(S),D=n(41),x=n(121),C=n(26),F=n(119).create({baseURL:"http://localhost:3000",credentials:"include"}),P=function(){return F.get("persons").then((function(e){return e.data}))},R=function(e){return F.get("persons/".concat(e)).then((function(e){if(200===e.status)return e.data}))},L=function(e){var t=e.id;return F.put("persons/".concat(t),e).then((function(e){return e.data}))},M=function(e){var t=e.newFirstName,n=e.newLastName;return F.post("persons",{firstName:t,lastName:n}).then((function(e){return e}))},T=function(e){return F.delete("persons/".concat(e)).then((function(e){return e}))},A={persons:[{id:1,firstName:"Dave",lastName:"h"},{id:2,firstName:"Dove",lastName:"h"}]},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-USER":var n={id:3,firstName:t.newFirstName,lastName:t.newLastName};return Object(C.a)(Object(C.a)({},e),{},{persons:[].concat(Object(x.a)(e.persons),[n])});case"UPDATE-USER":case"SET-USERS":case"SET-USER":return Object(C.a)(Object(C.a)({},e),{},{persons:t.persons});default:return e}},I=function(e){return{type:"SET-USER",persons:e}},J=function(){return function(){var e=Object(D.a)(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:n=e.sent,t({type:"SET-USERS",persons:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},W=function(e){return function(){var t=Object(D.a)(k.a.mark((function t(n){var a;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R(e);case 2:a=t.sent,n(I(a));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},z=function(e){return function(){var t=Object(D.a)(k.a.mark((function t(n){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T(e);case 2:t.sent,n(J());case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},B=function(e){return function(){var t=Object(D.a)(k.a.mark((function t(n){var a;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L(e);case 2:a=t.sent,n(I(a)),n(J());case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},V=function(e){Object(h.a)(n,e);var t=Object(v.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(g,{onSubmit:function(t){console.log(t),e.props.addNewUser(t)}}))}}]),n}(r.a.Component),X=Object(c.b)((function(e){return{firstName:e.persons.firstName,lastName:e.persons.lastName}}),{addNewUser:function(e){var t=e.newFirstName,n=e.newLastName;return function(){var e=Object(D.a)(k.a.mark((function e(a){var r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M({newFirstName:t,newLastName:n});case 2:r=e.sent,a({type:"ADD-USER",persons:r.data}),a(J());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(V),q=n(36),H=(Object(b.a)({form:"updatePerson"})((function(e){var t=e.handleSubmit,n=e.firstName,a=e.lastName;return r.a.createElement("form",{className:" ".concat(y.a.form," ").concat(y.a.update),handleSubmit:t},r.a.createElement(N.a,{component:_,name:"firstName",value:n,validate:[j],type:"text"}),r.a.createElement(N.a,{component:_,name:"lastName",value:a,validate:[j],type:"text"}),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435")))})),function(e){Object(h.a)(n,e);var t=Object(v.a)(n);function n(e){var a;Object(f.a)(this,n),(a=t.call(this,e)).onSubmit=function(e){var t=window.location.href.split("/"),n={firstName:e.newFirstName,lastName:e.newLastName,id:t[t.length-1]};a.props.updateUser(n)};var r={firstName:a.props.firstName,lastName:a.props.lastName,id:a.props.id};return a.props.initializeData(r),a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=window.location.href.split("/");this.props.getUser(e[e.length-1])}},{key:"render",value:function(){return r.a.createElement(g,{onSubmit:this.onSubmit,firstName:this.props.firstName,lastName:this.props.lastName})}}]),n}(a.Component)),$=Object(c.b)((function(e){return{firstName:e.persons.persons.firstName,lastName:e.persons.persons.lastName,id:e.persons.persons.id}}),(function(e){return{initializeData:function(t){e(Object(q.a)("person",t))},updateUser:function(t){console.log(t),e(B(t))},getUser:function(t){e(W(t))}}}))(H),G=n(8),K=function(e){var t=e.person,n=e.onDeleteUser;return r.a.createElement("div",null,r.a.createElement("button",{className:"".concat(p.a.btn," ").concat(p.a.delete),onClick:function(){n(t.id)}},"D"))},Q=function(e){Object(h.a)(n,e);var t=Object(v.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return r.a.createElement(i.b,{className:y.a.update,to:"/update/"+this.props.person.id},"U")}}]),n}(r.a.Component),Z=Object(c.b)((function(e){return{newFirstName:e.persons.firstName}}),{getUser:W})(Q),ee=function(e){var t=e.person,n=e.onDeleteUser,a=e.onUpdateUser;return r.a.createElement("div",{className:y.a.row},r.a.createElement("div",{className:y.a.col2},r.a.createElement(i.b,{className:y.a.link,to:"/person/"+t.id},r.a.createElement("div",{className:y.a.col},t.firstName),r.a.createElement("div",{className:y.a.col},t.lastName))),r.a.createElement("div",{className:"".concat(y.a.col," ").concat(y.a.col2)},r.a.createElement(K,{onDeleteUser:n,person:t})),r.a.createElement("div",{className:"".concat(y.a.col," ").concat(y.a.update," ").concat(y.a.col2)},r.a.createElement(Z,{onUpdateUser:a,person:t})))},te=function(e){Object(h.a)(n,e);var t=Object(v.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsers()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"".concat(y.a.row," ").concat(y.a.th)},r.a.createElement("div",{className:y.a.col},"\u0418\u043c\u044f"),r.a.createElement("div",{className:y.a.col},"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"),r.a.createElement("div",{className:y.a.col},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430"),r.a.createElement("div",{className:y.a.col},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430")),this.props.users.persons.map((function(t){return r.a.createElement(ee,{person:t,onDeleteUser:e.props.deleteUser,onUpdateUser:e.props.updateUser})})))}}]),n}(r.a.Component),ne=Object(c.b)((function(e){return{id:e.persons.id}}),{getUsers:J,deleteUser:z,updateUser:B})(te),ae=function(e){Object(h.a)(n,e);var t=Object(v.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsers()}},{key:"componentDidUpdate",value:function(e,t,n){e.users.persons.length!=this.props.users.persons.length&&this.props.getUsers()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ne,{users:this.props.users,deleteUser:this.props.deleteUser,updateUser:this.props.updateUser}))}}]),n}(r.a.Component),re=Object(G.d)(Object(c.b)((function(e){return{users:e.persons}}),{getUsers:J,deleteUser:z,updateUser:B}))(ae),se=n(120),oe=n(115),ce=Object(G.c)({persons:Y,form:oe.a}),ie=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||G.d,ue=Object(G.e)(ce,ie(Object(G.a)(se.a))),le=function(e){return r.a.createElement("div",null,r.a.createElement(ee,{person:e}))},pe=function(e){Object(h.a)(n,e);var t=Object(v.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=window.location.href.split("/");this.props.getUser(e[e.length-1]),console.log(this.props)}},{key:"render",value:function(){return r.a.createElement(le,{firstName:this.props.firstName,lastName:this.props.lastName,id:this.props.id,onDeleteUser:this.props.deleteUser,onUpdateUser:this.props.updateUser})}}]),n}(r.a.Component),me=Object(c.b)((function(e){return{firstName:e.persons.persons.firstName,lastName:e.persons.persons.lastName,id:e.persons.persons.id}}),{getUser:W,deleteUser:z,updateUser:B})(pe);var fe=function(){return r.a.createElement(i.a,null,r.a.createElement(c.a,{store:ue},r.a.createElement("div",{className:"App"},r.a.createElement(u.a,{path:"",render:function(){return r.a.createElement(m,null)}}),r.a.createElement(u.a,{path:"/persons",render:function(){return r.a.createElement(re,null)}}),r.a.createElement(u.a,{path:"/person/:userId",render:function(){return r.a.createElement(me,null)}}),r.a.createElement(u.a,{path:"/create",render:function(){return r.a.createElement(X,null)}}),r.a.createElement(u.a,{path:"/update/:userId",render:function(){return r.a.createElement($,null)}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(fe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},34:function(e,t,n){e.exports={btn:"Common_btn__3Mzt3",delete:"Common_delete__JUfDn",starts:"Common_starts__4VA34",start:"Common_start__urYlJ"}},7:function(e,t,n){e.exports={row:"Person_row__1VW0t",th:"Person_th__2Y0Yl",col:"Person_col__N4yN7",col2:"Person_col2__15ht5",link:"Person_link__yBcs6",btns:"Person_btns__25UWO",btn:"Person_btn__2cgnY",update:"Person_update__1_6--"}}},[[148,1,2]]]);
//# sourceMappingURL=main.68c5c139.chunk.js.map