(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{115:function(e,t,n){e.exports={error:"FormsControls_error__2SeOU",summaryError:"FormsControls_summaryError__1vHei",form:"FormsControls_form__1CYe2"}},148:function(e,t,n){e.exports=n(274)},153:function(e,t,n){},157:function(e,t,n){},21:function(e,t,n){e.exports={tbl:"Person_tbl__3W8P4",btns:"Person_btns__25UWO",btn:"Person_btn__2cgnY",update:"Person_update__1_6--"}},274:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(55),s=n.n(o),c=(n(153),n(9)),u=(n(157),n(29)),l=n(30),i=n(35),m=n(34),p=n(111),f=n(112),d=n(122),b=n(115),v=n.n(b),E=function(e){var t=e.input,n=e.meta,a=(e.child,e.element,Object(d.a)(e,["input","meta","child","element"])),o=n.touched&&n.error;return r.a.createElement("div",{className:o?v.a.error:""},r.a.createElement("div",null,r.a.createElement("input",Object.assign({},t,a))),o&&r.a.createElement("span",null,n.error)||n.warning&&r.a.createElement("span",null,n.warning," "))},N=n(21),h=n.n(N),O=function(e){if(!e)return"Field is required"},w=Object(f.a)({form:"person"})((function(e){var t=e.handleSubmit;return console.log([O]),r.a.createElement("form",{className:h.a.form,onSubmit:t},r.a.createElement(p.a,{placeholder:"Enter firstname",component:E,name:"newFirstName",validate:[O],type:"text"}),r.a.createElement(p.a,{placeholder:"Enter lastname",component:E,name:"newLastName",validate:[O],type:"text"}),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435")))})),U=n(14),_=n.n(U),j=n(37),g=n(120),y=n(22),S=n(117).create({baseURL:"http://localhost:3000"}),D=function(){return S.get("persons").then((function(e){return e.data}))},x=function(e){return console.log(e),S.get("persons/".concat(e)).then((function(e){return console.log(e),e.data}))},k=function(e){var t=e.id,n=e.newFirstName,a=e.newLastName;return console.log({id:t,newFirstName:n,newLastName:a}),S.put("persons/".concat(t),{firstName:n,lastName:a,id:t}).then((function(e){return console.log(e.data),e.data}))},C=function(e){var t=e.newFirstName,n=e.newLastName;return console.log({newFirstName:t,newLastName:n}),S.post("persons",{firstName:t,lastName:n}).then((function(e){return e}))},F=function(e){return console.log(e),S.delete("persons/".concat(e)).then((function(t){return console.log(e),t}))},L={persons:[{id:1,firstName:"Dave",lastName:"h"},{id:2,firstName:"Dove",lastName:"h"}]},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-USER":var n={id:3,firstName:t.newFirstName,lastName:t.newLastName};return Object(y.a)(Object(y.a)({},e),{},{persons:[].concat(Object(g.a)(e.persons),[n])});case"UPDATE-USER":case"SET-USERS":return Object(y.a)(Object(y.a)({},e),{},{persons:t.persons});case"SET-USER":return Object(y.a)({},e);default:return e}},P=function(e){return{type:"SET-USER",persons:e}},T=function(){return function(){var e=Object(j.a)(_.a.mark((function e(t){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D();case 2:n=e.sent,t({type:"SET-USERS",persons:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},A=function(e){var t=e.id,n=e.firstName,a=e.lastName;return function(){var e=Object(j.a)(_.a.mark((function e(r){var o;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n,a),e.next=4,k({id:t,firstName:n,lastName:a});case 4:o=e.sent,r(P(o)),r(T());case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},M=function(e){Object(i.a)(n,e);var t=Object(m.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(w,{onSubmit:function(t){console.log(t),e.props.addNewUser(t)}}))}}]),n}(r.a.Component),W=Object(c.b)((function(e){return{firstName:e.persons.firstName,lastName:e.persons.lastName}}),{addNewUser:function(e){var t=e.newFirstName,n=e.newLastName;return function(){var e=Object(j.a)(_.a.mark((function e(a){var r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C({newFirstName:t,newLastName:n});case 2:r=e.sent,console.log(r),a({type:"ADD-USER",persons:r.data}),a(T());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(M),z=n(7),B=n(36),J=n.n(B),I=function(e){var t=e.person,n=e.onDeleteUser;return r.a.createElement("div",null,r.a.createElement("button",{className:"".concat(J.a.btn," ").concat(J.a.delete),onClick:function(){n(t.id)}},"D"))},X=n(121),Y=n(27),q=Object(f.a)({form:"updatePerson"})((function(e){var t=e.handleSubmit,n=e.firstName,a=e.lastName;return r.a.createElement("form",{className:" ".concat(h.a.form," ").concat(h.a.update),handleSubmit:t},r.a.createElement(p.a,{component:E,name:"firstName",value:n,type:"text"}),r.a.createElement(p.a,{component:E,name:"lastName",value:a,type:"text"}),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435")))})),H=function(e){Object(i.a)(n,e);var t=Object(m.a)(n);function n(e){var a;Object(u.a)(this,n),(a=t.call(this,e)).handleSubmit=function(e){console.log(a.props),console.log(e.value)};var r={firstName:a.props.firstName,lastName:a.props.lastName,id:a.props.id};return a.props.initializeData(r),a}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(q,{handleSubmit:this.handleSubmit}))}}]),n}(r.a.Component),V=Object(c.b)((function(e){return{id:e.persons.id}}),(function(e){return{initializeData:function(t){e(Object(Y.a)("updatePerson",t))},updateUser:A}}))(H),$=Object(c.b)((function(e){}),{getUser:function(e){return function(){var t=Object(j.a)(_.a.mark((function t(n){var a;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x(e);case 2:a=t.sent,n(P(a)),n(T());case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=Object(a.useState)(!1),n=Object(X.a)(t,2),o=n[0],s=n[1];return r.a.createElement("div",null,o?r.a.createElement("div",null,r.a.createElement(V,{id:e.person.id,firstName:e.person.firstName,lastName:e.person.lastName,onBlur:function(){s(!1)}})):r.a.createElement("button",{className:"".concat(J.a.btn," ").concat(J.a.update),onClick:function(){s(!0);var t=e.getUser(e.person.id);console.log(t)}},"U"))})),G=function(e){var t=e.person,n=e.onDeleteUser,a=e.onUpdateUser;return r.a.createElement("div",{className:h.a.tbl},r.a.createElement("table",null,r.a.createElement("tr",null,r.a.createElement("td",{className:h.a.col},t.firstName),r.a.createElement("td",null,t.lastName),r.a.createElement("td",null,r.a.createElement(I,{onDeleteUser:n,person:t})),r.a.createElement("td",null,r.a.createElement($,{onUpdateUser:a,person:t})))))},K=function(e){return r.a.createElement("div",null,e.users.persons.map((function(t){return r.a.createElement(G,{person:t,onDeleteUser:e.deleteUser,onUpdateUser:e.updateUser})})))},Q=function(e){Object(i.a)(n,e);var t=Object(m.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsers()}},{key:"componentDidUpdate",value:function(e,t,n){e.users.persons.length!=this.props.users.persons.length&&this.props.getUsers()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(K,{users:this.props.users,deleteUser:this.props.deleteUser,updateUser:this.props.updateUser}))}}]),n}(r.a.Component),Z=Object(z.d)(Object(c.b)((function(e){return{users:e.persons}}),{getUsers:T,deleteUser:function(e){return function(){var t=Object(j.a)(_.a.mark((function t(n){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F(e);case 2:t.sent,n(T());case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateUser:A}))(Q),ee=n(118),te=n(113),ne=Object(z.c)({persons:R,form:te.a}),ae=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||z.d,re=Object(z.e)(ne,ae(Object(z.a)(ee.a))),oe=n(119);var se=function(){return r.a.createElement(oe.a,null,r.a.createElement(c.a,{store:re},r.a.createElement("div",{className:"App"},r.a.createElement(Z,null),r.a.createElement(W,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(se,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},36:function(e,t,n){e.exports={btn:"Common_btn__3Mzt3",update:"Common_update__3Rb_L",delete:"Common_delete__JUfDn"}}},[[148,1,2]]]);
//# sourceMappingURL=main.7415cdbc.chunk.js.map