{"version":3,"sources":["Components/Person/Person.module.css","Components/Common/FormsControls.module.css","Components/Common/StartPage.jsx","Components/Common/FormsControls.js","Components/Common/Validator.js","Components/Person/CreatePersonForm.jsx","Components/API/API.js","Components/Redux/person-reducer.js","Components/Person/CreatePerson.jsx","Components/Person/UpdatePersonContainer.jsx","Components/Person/UpdatePersonForm.jsx","Components/Common/DeletePerson.jsx","Components/Common/UpdatePerson.jsx","Components/Person/Person.jsx","Components/Persons/Persons.jsx","Components/Persons/PersonsContainer.jsx","Components/Redux/store.js","Components/Person/PersonSingle.jsx","App.js","serviceWorker.js","index.js","Components/Common/Common.module.css"],"names":["module","exports","StartPage","props","className","css","starts","start","to","Input","input","meta","child","element","showError","touched","error","StyleSheet","warning","requiredField","value","CreatePersonForm","reduxForm","form","handleSubmit","firstName","lastName","onSubmit","Field","placeholder","component","name","validate","type","instance","axios","baseURL","credentials","personAPI","get","then","response","data","userId","status","person","id","put","newFirstName","newLastName","post","delete","initialState","persons","personReducer","state","action","newUser","setUserSucces","getUsers","dispatch","a","getUser","deleteUser","updateUser","CreatePersonComponent","formData","console","log","addNewUser","React","Component","connect","UpdatePersonComponent","update","window","location","href","split","length","initializeData","this","initialize","DeletePerson","onDeleteUser","btn","onClick","UpdatePerson","Person","onUpdateUser","row","col2","link","col","Persons","users","map","p","PersonsContainer","prevProps","prevState","snapshot","compose","reducers","combineReducers","formReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","PersonSingle","PersonSingleContainer","App","path","render","Boolean","hostname","match","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.edba1665.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"row\":\"Person_row__1VW0t\",\"col\":\"Person_col__N4yN7\",\"col2\":\"Person_col2__15ht5\",\"link\":\"Person_link__yBcs6\",\"btns\":\"Person_btns__25UWO\",\"btn\":\"Person_btn__2cgnY\",\"update\":\"Person_update__1_6--\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"FormsControls_error__2SeOU\",\"summaryError\":\"FormsControls_summaryError__1vHei\",\"form\":\"FormsControls_form__1CYe2\"};","import React from 'react';\r\nimport css from './Common.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\n\r\nconst StartPage = (props) => {\r\n    return (\r\n        <div className = {css.starts}>\r\n            <NavLink className = {css.start} to='/create'>Create New Person</NavLink>\r\n            <NavLink className = {css.start} to='/persons'>Show All Persons</NavLink>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default StartPage;\r\n","import React from 'react';\r\nimport StyleSheet from './FormsControls.module.css';\r\nimport { Field } from 'redux-form';\r\n\r\nexport const Input = ({ input, meta, child, element, ...props }) => {\r\n    const showError = meta.touched && meta.error;\r\n\r\n    return (\r\n        <div className={showError ? StyleSheet.error : ''}>\r\n            <div>\r\n                <input {...input} {...props} />\r\n            </div>\r\n            {showError && <span>{meta.error}</span> || meta.warning && <span>{meta.warning} </span>}\r\n        </div>\r\n    )\r\n};","export const requiredField = (value) => {\r\n    if (value) return undefined;\r\n\r\n    return 'Field is required';\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => {\r\n    return (value) => {\r\n        if (value && value.length >  maxLength) return `Max length is ${maxLength} symbols`;\r\n        return undefined;\r\n    }\r\n}\r\n","import React from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { Input } from '../Common/FormsControls';\r\nimport css from './Person.module.css';\r\nimport { requiredField } from './../Common/Validator'\r\n\r\nconst CreatePerson = ({ handleSubmit, firstName, lastName }) => {\r\n\r\n    return (\r\n        <form className={css.form} onSubmit={handleSubmit}>\r\n            <Field placeholder={'Enter firstname'} component={Input} name={'newFirstName'}\r\n                validate={[requiredField]} value={firstName} type={'text'} />\r\n\r\n            <Field placeholder={'Enter lastname'} component={Input} name={'newLastName'}\r\n                validate={[requiredField]} value={lastName} type={'text'} />\r\n            <div>\r\n                <button>Отправить данные</button>\r\n            </div>\r\n        </form>\r\n    )\r\n\r\n};\r\n\r\nconst CreatePersonForm = reduxForm({\r\n    form: 'person'\r\n})(CreatePerson);\r\n\r\nexport default CreatePersonForm;","import * as axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'http://localhost:3000',\r\n    credentials: 'include'\r\n});\r\n\r\nexport const personAPI = {\r\n    getUsers() {\r\n        return (\r\n            instance\r\n                .get(`persons`)\r\n                .then(response => {\r\n                    return response.data\r\n                })\r\n        )\r\n    },\r\n\r\n    getUser(userId) {\r\n        return (\r\n            instance\r\n                .get(`persons/${userId}`)\r\n                .then(response => {\r\n                    if (response.status === 200) {\r\n                        return response.data\r\n                    }\r\n\r\n                })\r\n        )\r\n    },\r\n\r\n    updateUser(person) {\r\n        let userId = person.id;\r\n        return (\r\n            instance\r\n                .put(`persons/${userId}`, person)\r\n                .then(response => {\r\n                    return response.data\r\n                })\r\n        )\r\n    },\r\n\r\n    addUser({ newFirstName, newLastName }) {\r\n        return (\r\n            instance\r\n                .post(`persons`, { firstName: newFirstName, lastName: newLastName })\r\n                .then(response => {\r\n                    return response\r\n                })\r\n        )\r\n    },\r\n\r\n    deleteUser(userId) {\r\n        return (\r\n            instance\r\n                .delete(`persons/${userId}`)\r\n                .then(response => {\r\n                    return response\r\n                })\r\n        )\r\n    }\r\n}","import { personAPI } from './../API/API.js';\r\n\r\nconst ADD_USER = 'ADD-USER';\r\nconst UPDATE_USER = 'UPDATE-USER';\r\nconst SET_USERS = 'SET-USERS';\r\nconst SET_USER = 'SET-USER';\r\n\r\nconst initialState = {\r\n    persons: [\r\n        { id: 1, firstName: 'Dave', lastName: 'h' },\r\n        { id: 2, firstName: 'Dove', lastName: 'h' }\r\n    ]\r\n};\r\n\r\nconst personReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_USER:\r\n            let newUser = {\r\n                id: 3,\r\n                firstName: action.newFirstName,\r\n                lastName: action.newLastName\r\n            }\r\n            return {\r\n                ...state,\r\n                persons: [...state.persons, newUser]\r\n            };\r\n\r\n        case UPDATE_USER:\r\n            return {\r\n                ...state,\r\n                persons: action.persons\r\n            };\r\n\r\n        case SET_USERS:\r\n            return { ...state, persons: action.persons };\r\n\r\n        case SET_USER:\r\n            return { ...state, persons: action.persons };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default personReducer;\r\n\r\n// actionCreator\r\nexport const addNewUserSucces = (persons) => ({ type: ADD_USER, persons });\r\nexport const updateUserSucces = (persons) => ({ type: UPDATE_USER, persons });\r\nexport const setUsersSucces = (persons) => ({ type: SET_USERS, persons });\r\nexport const setUserSucces = (persons) => ({ type: SET_USER, persons });\r\n\r\n// thunkCreator\r\nexport const getUsers = () => async (dispatch) => {\r\n    let response = await personAPI.getUsers();\r\n    dispatch(setUsersSucces(response));\r\n};\r\n\r\nexport const getUser = (userId) => async (dispatch) => {\r\n    let response = await personAPI.getUser(userId);\r\n    dispatch(setUserSucces(response));\r\n};\r\n\r\nexport const deleteUser = (userId) => async (dispatch) => {\r\n    let response = await personAPI.deleteUser(userId);\r\n    dispatch(getUsers());\r\n}\r\n\r\nexport const updateUser = (person) => async (dispatch) => {\r\n    let response = await personAPI.updateUser(person);\r\n    dispatch(setUserSucces(response));\r\n    dispatch(getUsers());\r\n}\r\n\r\nexport const addNewUser = ({ newFirstName, newLastName }) => async (dispatch) => {\r\n    let response = await personAPI.addUser({ newFirstName, newLastName });\r\n    dispatch(addNewUserSucces(response.data));\r\n    dispatch(getUsers());\r\n}","import React from 'react';\r\nimport CreatePersonForm from './CreatePersonForm';\r\nimport { connect } from 'react-redux';\r\nimport { addNewUser } from './../Redux/person-reducer';\r\n\r\nclass CreatePersonComponent extends React.Component {\r\n\r\n    render() {\r\n        const onSubmit = (formData) => {\r\n            console.log(formData);\r\n            this.props.addNewUser(formData)\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <CreatePersonForm onSubmit={onSubmit} />\r\n            </div>\r\n        )\r\n    }\r\n};\r\n\r\nlet mapStateToProps = (state) => ({\r\n    firstName: state.persons.firstName,\r\n    lastName: state.persons.lastName\r\n});\r\n\r\nexport default connect(mapStateToProps, { addNewUser })(CreatePersonComponent);","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { initialize } from 'redux-form';\r\nimport { getUser, updateUser } from '../Redux/person-reducer';\r\nimport UpdatePersonForm from './UpdatePersonForm';\r\nimport CreatePersonForm from './CreatePersonForm'\r\n\r\nclass UpdatePersonComponent extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        let person = { firstName: this.props.firstName, lastName: this.props.lastName, id: this.props.id };\r\n        this.props.initializeData(person);\r\n    }\r\n\r\n    // componentDidMount() {\r\n    //     let currentPath = window.location.href;\r\n    //     let id = currentPath.split('/');\r\n    //     this.props.getUser(id[id.length - 1]);\r\n    // }\r\n\r\n    onSubmit = (formData) => {\r\n        // event.preventDefault();\r\n        let currentPath = window.location.href;\r\n        let id = currentPath.split('/');\r\n\r\n        console.log(formData);\r\n        let person = {firstName: formData.newFirstName, lastName: formData.newLastName, id: id[id.length - 1]}\r\n        this.props.updateUser(person)\r\n    };\r\n\r\n    render() {\r\n\r\n        return (\r\n            <CreatePersonForm onSubmit = {this.onSubmit}\r\n            firstName={this.props.firstName} lastName={this.props.lastName}\r\n            />\r\n        )\r\n    }\r\n};\r\n\r\nlet mapStateToProps = (state) => {\r\n    // console.log(state)\r\n    return {\r\n        firstName: state.persons.persons.firstName,\r\n        lastName: state.persons.persons.lastName,\r\n        id: state.persons.persons.id\r\n    }\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        initializeData: (person) => {\r\n            dispatch(initialize('person', person))\r\n        },\r\n        updateUser: (person) => {\r\n            console.log(person)\r\n            dispatch(updateUser(person))\r\n        },\r\n        getUser: (id) => {\r\n            dispatch(getUser(id))\r\n        }\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UpdatePersonComponent);","import React from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { Input } from '../Common/FormsControls';\r\nimport css from './Person.module.css';\r\nimport { requiredField } from './../Common/Validator'\r\n\r\nconst UpdatePerson = ({ handleSubmit, firstName, lastName }) => {\r\n\r\n    return (\r\n        <form className={` ${css.form} ${css.update}`} handleSubmit={handleSubmit}>\r\n            <Field component={Input} name={'firstName'} value={firstName}\r\n                validate={[requiredField]} type={'text'} />\r\n\r\n            <Field component={Input} name={'lastName'} value={lastName}\r\n                validate={[requiredField]}\r\n                type={'text'} />\r\n            <div>\r\n                <button type={'submit'} >Отправить данные</button>\r\n            </div>\r\n        </form>\r\n    )\r\n};\r\n\r\nconst UpdatePersonForm = reduxForm({\r\n    form: 'updatePerson'\r\n})(UpdatePerson);\r\n\r\nexport default UpdatePersonForm;\r\n","import React from 'react';\r\nimport css from './Common.module.css'\r\n\r\n\r\nconst DeletePerson = ( {person, onDeleteUser} ) => {\r\n    return (\r\n        <div>\r\n            <button className = {`${css.btn} ${css.delete}`} onClick = {() => { onDeleteUser(person.id)} } >D</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DeletePerson;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { getUser } from '../Redux/person-reducer';\r\nimport css from './../Person/Person.module.css';\r\n\r\nclass UpdatePerson extends React.Component {\r\n\r\n    render() {  \r\n        return (\r\n            <NavLink className = {css.update} to={'/update/' + this.props.person.id} >U</NavLink>\r\n        )\r\n    }\r\n};\r\n\r\nlet mapStateToProps = (state) => ({\r\n    newFirstName: state.persons.firstName\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps, { getUser })(UpdatePerson);\r\n","import React from 'react';\r\nimport css from './Person.module.css'\r\nimport DeletePerson from '../Common/DeletePerson';\r\nimport UpdatePerson from './../Common/UpdatePerson';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\n\r\nconst Person = ({ person, onDeleteUser, onUpdateUser }) => {\r\n\r\n    return (\r\n        <div className={css.row}>\r\n            <div className = {css.col2}>\r\n                <NavLink className={css.link} to={'/person/' + person.id}>\r\n                    <div className={css.col}>\r\n                        {person.firstName}\r\n                    </div>\r\n                    <div className={css.col}>\r\n                        {person.lastName}\r\n                    </div>\r\n                </NavLink >\r\n            </div>\r\n\r\n            <div className={css.col}>\r\n                <DeletePerson onDeleteUser={onDeleteUser} person={person} />\r\n            </div>\r\n            <div className={`${css.col} ${css.update}`}>\r\n                <UpdatePerson onUpdateUser={onUpdateUser} person={person} />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Person; ","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Person from './../Person/Person';\r\nimport { deleteUser, getUsers, updateUser } from './../Redux/person-reducer';\r\n\r\nclass Persons extends React.Component {\r\n\r\n    componentDidMount() {\r\n        this.props.getUsers();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n\r\n                {this.props.users.persons.map(p => <Person\r\n                    person={p}\r\n                    onDeleteUser={this.props.deleteUser}\r\n                    onUpdateUser={this.props.updateUser} />)}\r\n\r\n\r\n            </div>\r\n        )\r\n    }\r\n    \r\n\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    id: state.persons.id\r\n})\r\n\r\nexport default connect(mapStateToProps, { getUsers, deleteUser, updateUser })(Persons);","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { deleteUser, getUsers, updateUser } from './../Redux/person-reducer';\r\nimport Persons from './Persons';\r\n\r\nclass PersonsContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        this.props.getUsers();\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (prevProps.users.persons.length != this.props.users.persons.length) {\r\n            this.props.getUsers();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Persons \r\n                users = {this.props.users} \r\n                deleteUser = {this.props.deleteUser} \r\n                updateUser = {this.props.updateUser} />\r\n\r\n            </div>\r\n        )\r\n    }\r\n\r\n};\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: state.persons\r\n    }\r\n};\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {getUsers, deleteUser, updateUser})\r\n)(PersonsContainer);","\r\nimport personReducer from './person-reducer';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport { combineReducers, createStore, applyMiddleware, compose } from \"redux\";\r\nimport { reducer as formReducer } from 'redux-form';\r\n\r\nlet reducers = combineReducers({\r\n    persons: personReducer,\r\n    form: formReducer\r\n})\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\nexport default store;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { getUser, deleteUser, updateUser } from './../Redux/person-reducer';\r\nimport Person from './Person';\r\n\r\nconst PersonSingle = (props) => {\r\n    return (\r\n        <div>\r\n            <Person person = {props} />\r\n        </div>\r\n    )\r\n};\r\n\r\nclass PersonSingleContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        let currentPath = window.location.href;\r\n        let id = currentPath.split('/');\r\n        this.props.getUser(id[id.length - 1]);\r\n        console.log(this.props)\r\n    }\r\n\r\n    render() {\r\n        return <PersonSingle firstName = {this.props.firstName} lastName = {this.props.lastName} id = {this.props.id} onDeleteUser={this.props.deleteUser}\r\n        onUpdateUser={this.props.updateUser}  />\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        firstName: state.persons.persons.firstName,\r\n        lastName: state.persons.persons.lastName,\r\n        id: state.persons.persons.id\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps, { getUser, deleteUser, updateUser })(PersonSingleContainer);","import React from 'react';\nimport { Provider } from 'react-redux';\nimport { HashRouter, Route } from 'react-router-dom';\nimport './App.css';\nimport StartPage from './Components/Common/StartPage';\nimport CreatePerson from './Components/Person/CreatePerson';\nimport UpdatePerson from './Components/Person/UpdatePersonContainer';\nimport PersonsContainer from './Components/Persons/PersonsContainer';\nimport store from './Components/Redux/store';\nimport PersonSingle from './Components/Person/PersonSingle';\n\nfunction App() {\n  return (\n    <HashRouter>\n      <Provider store={store}>\n        <div className=\"App\">\n          <Route path='' render={() => <StartPage />} />\n          <Route path='/persons' render={() => <PersonsContainer />} />\n          <Route path='/person/:userId' render={() => <PersonSingle />} />\n          <Route path='/create' render={() => <CreatePerson />} />\n          <Route path='/update/:userId' render={() => <UpdatePerson />} />\n        </div>\n      </Provider>\n    </HashRouter>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport store from './Components/Redux/store'\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"Common_btn__3Mzt3\",\"delete\":\"Common_delete__JUfDn\",\"starts\":\"Common_starts__4VA34\",\"start\":\"Common_start__urYlJ\"};"],"sourceRoot":""}